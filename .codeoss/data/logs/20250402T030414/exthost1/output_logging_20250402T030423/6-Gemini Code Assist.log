language client is not ready, cannot initialize chat state
I0402 03:04:42.370043    2603 serve.go:43] cloudcode_cli (Mar 16 2025 10:36:32 -0700, cl:737377283 baseline:736258458)
I0402 03:04:42.370088    2603 serve.go:44] Command line: ["/home/apoorvtripathi537/.cache/cloud-code/cloudcode_cli/cloudcode_cli/a383010/cloudcode_cli" "duet" "-logtostderr"]
I0402 03:04:42.371668    2603 life_cycle.go:169] Initializing. Architecture: "amd64", Operating system: "linux"
I0402 03:04:42.496609    2603 configuration.go:184] product updateChannel will be used
I0402 03:04:42.496655    2603 configuration.go:664] language thresholds: map[]
I0402 03:04:42.496670    2603 configuration.go:611] dataFileExtensions array: [.csv .tsv .jsonl]
I0402 03:04:42.496687    2603 configuration.go:875] atlas codeCompletion llm options: {MaxTokens:64 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc00162d6ad StopSequences:map[] DataFilePromptLines:0}
I0402 03:04:42.496713    2603 configuration.go:875] atlas codeGeneration llm options: {MaxTokens:512 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc00162d6cd StopSequences:map[*:[[eod] [EOF] [pre] [suf] [mid]]] DataFilePromptLines:5}
I0402 03:04:42.496873    2603 configuration.go:272] Configured settings for atlasOpts: {"Addr":"","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"EnablePromptEnhancementForTransform":false,"EnablePromptEnhancementForChat":false,"EnableAdminCitationBlock":false,"EnableChatStreaming":false,"Complete":{"MaxTokens":64,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":null,"DataFilePromptLines":0},"Generate":{"MaxTokens":512,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":{"*":["[eod]","[EOF]","[pre]","[suf]","[mid]"]},"DataFilePromptLines":5},"DataFileExtensions":[".csv",".tsv",".jsonl"]}
I0402 03:04:42.496913    2603 configuration.go:280] Configured settings for cloudCodeOpts: {"Addr":"cloudcode-pa.googleapis.com:443","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"EnablePromptEnhancementForTransform":false,"EnablePromptEnhancementForChat":false,"EnableAdminCitationBlock":false,"EnableChatStreaming":false}
I0402 03:04:42.496924    2603 configuration.go:284] Configured settings for opts: &{trace:false atlasAddr:cloudaicompanion.googleapis.com:443 cloudCodeAddr:cloudcode-pa.googleapis.com:443 cloudCodeQuotaProject: autoGen:false invokeGen:true codeCacheMaxEntries:1024 completionOpts:{debounce:300000000 throttle:100000000 debouncedAfterFetching:false minScoreThreshold:-6 languageThresholds:map[] enableThresholds:true commentCompletion:false citationLengthThreshold:-1 enableRecitations:true citationLogFilePath: repeatedStringFilterThreshold:60 otherFilesGenerationLimit:20 otherFilesGenerationSizeLimit:-1 otherFilesCompletionLimit:0 multiQueryTailNSForCompletion:[] multiQueryTailNSForGeneration:[]} contextExclusionFile:.aiexclude chatOpts:{contextOrdering:fsu maxFileBytes:75000 maxHistoryBytes:500000 escapeContext:false otherFilesLimit:20 otherFilesSizeLimit:-1 userSelectedFilesSizeLimit:-1} useRest:<nil> useCloudCodeAPI:true enableChatStreaming:false enableNotebooks:false enableRAGL:false enableRAGLCompletion:false enableRAGLChat:false ragLRerankByLangBoost:0 raglCoLocated:20 raglTotalFiles:250 raglFileLimit:524288 raglIncludeDocFiles:false raglIncludeUnitTestFile:false raglMaxFileSearchDepth:1 substringsToIdentifyTestPrompts:[test] substringsToIdentifyDocPrompts:[document comment] raglTopKTestFilesToInclude:0 raglTopKDocFilesToInclude:0 raglTokenizationAlgorithm:whitespace}
I0402 03:04:42.496956    2603 configuration.go:286] Configured settings for canCancelRequests: true
I0402 03:04:42.496964    2603 configuration.go:288] Configured settings for contextPromptOpts: &{Endpoint:}
I0402 03:04:42.556683    2603 experiments.go:128] Applied experiment flag "DuetAiCloudCodeAPI__enable_cloudcode_api" to useCloudCodeAPI with value true
I0402 03:04:42.556715    2603 experiments.go:164] Applied experiment flag "DuetAiLocalRag__enable_local_rag" to enableRAGL with value true
I0402 03:04:42.556731    2603 experiments.go:149] Applied experiment flag "DuetAICodeTransform__display_prompt_recitations" to cloudCodeOpts.EnablePromptEnhancementForTransform with value true
I0402 03:04:42.556749    2603 experiments.go:153] Applied experiment flag "Chat__display_prompt_recitations" to cloudCodeOpts.EnablePromptEnhancementForChat with value true
I0402 03:04:42.556763    2603 experiments.go:168] Applied experiment flag "DuetAiLocalRag__enable_local_rag_chat" to enableRAGLChat with value true
I0402 03:04:42.556774    2603 experiments.go:172] Applied experiment flag "DuetAiLocalRag__enable_local_rag_completion" to enableRAGLCompletion with value true
I0402 03:04:42.556792    2603 experiments.go:140] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounced_after_fetching" to completionOpts.debouncedAfterFetching with value false
I0402 03:04:42.556842    2603 experiments.go:157] Applied experiment flag "GcaCitationBlock__enable_citation_block" to cloudCodeOpts.EnableAdminCitationBlock with value false
I0402 03:04:42.556856    2603 experiments.go:124] Applied experiment flag "Chat__enable_chat_streaming" to chat.enableChatStreaming with value true
I0402 03:04:42.556880    2603 experiments.go:208] Applied experiment flag "DuetAiLocalRag__include_doc_files" to includeDocFiles with value false
I0402 03:04:42.556895    2603 experiments.go:212] Applied experiment flag "DuetAiLocalRag__include_unit_test_files" to includeUnitTestFile with value false
I0402 03:04:42.556934    2603 experiments.go:240] Applied experiment flag "DuetAiLocalRag__local_rag_tokenization_algorithm" to localRagTokenizationAlgorithm with value 
I0402 03:04:42.556950    2603 experiments.go:192] Applied experiment flag "DuetAiLocalRag__otherfiles_completion_limit" to otherFilesCompletionLimit with value 15
I0402 03:04:42.556962    2603 experiments.go:176] Applied experiment flag "DuetAiLocalRag__otherfiles_generation_limit" to otherFilesGenerationLimit with value 40
I0402 03:04:42.556974    2603 experiments.go:136] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounceMs" to completionOpts.debounce with value 300
I0402 03:04:42.556985    2603 experiments.go:120] Applied experiment flag "Chat__fca_chat_context_window_size" to chat.fcaContextWindowSize with value 450000
I0402 03:04:42.556998    2603 experiments.go:196] Applied experiment flag "DuetAiLocalRag__otherfiles_chat_limit" to otherFilesChatLimit with value 100
I0402 03:04:42.557015    2603 experiments.go:228] Applied experiment flag "DuetAiLocalRag__top_k_doc_files_to_include" to topKDocFilesToInclude with value 2
I0402 03:04:42.557079    2603 experiments.go:112] Applied experiment flag "DuetAiGeneration__codeGeneration_context_window_size" to otherFilesGenerationSizeLimit with value 64000
I0402 03:04:42.557094    2603 experiments.go:116] Applied experiment flag "Chat__chat_context_window_size" to chat.contextWindowSize with value -1
I0402 03:04:42.557109    2603 experiments.go:216] Applied experiment flag "DuetAiLocalRag__max_file_search_depth" to maxFileSearchDepth with value 2
I0402 03:04:42.557130    2603 experiments.go:232] Applied experiment flag "DuetAiLocalRag__top_k_test_files_to_include" to topKTestFilesToInclude with value 2
I0402 03:04:42.557145    2603 experiments.go:180] Applied experiment flag "DuetAiLocalRag__cache_co_located" to coLocated with value 20
I0402 03:04:42.557157    2603 experiments.go:184] Applied experiment flag "DuetAiLocalRag__cache_file_limit" to fileLimit with value 4.1943e+06
I0402 03:04:42.557169    2603 experiments.go:188] Applied experiment flag "DuetAiLocalRag__cache_total_files" to totalFiles with value 250
I0402 03:04:42.557188    2603 experiments.go:236] Applied experiment flag "DuetAiLocalRag__local_rag_reranking_by_language" to localRAGRerankingByLanguageParam with value 0
I0402 03:04:42.557200    2603 experiments.go:132] Applied experiment flag "DuetAiMendelOverrides__codeCompletion_defaultThreshold" to completionOpts.minScoreTheshold with value -100
I0402 03:04:42.557217    2603 experiments.go:200] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_completion" to multiQueryTailNS with value []
I0402 03:04:42.557235    2603 experiments.go:204] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_generation" to multiQueryTailNS with value []
I0402 03:04:42.557267    2603 experiments.go:220] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_doc_prompts" to substringsToIdentifyDocPrompts with value [document comment]
I0402 03:04:42.557290    2603 experiments.go:224] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_test_prompts" to substringsToIdentifyTestPrompts with value [test]
I0402 03:04:42.557321    2603 configuration.go:479] Repopulating context cache from document cache
I0402 03:04:42.557437    2603 tier.go:16] Received tier configuration request: {ProjectID:cloudshell-gca UserDefinedCloudaicompanionProject:true}
W0402 03:04:42.557500    2603 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
I0402 03:04:42.563090    2603 configuration.go:184] product updateChannel will be used
I0402 03:04:42.563182    2603 configuration.go:664] language thresholds: map[]
I0402 03:04:42.563235    2603 configuration.go:611] dataFileExtensions array: [.csv .tsv .jsonl]
I0402 03:04:42.563263    2603 configuration.go:875] atlas codeCompletion llm options: {MaxTokens:64 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc000b0044d StopSequences:map[] DataFilePromptLines:0}
I0402 03:04:42.563301    2603 configuration.go:875] atlas codeGeneration llm options: {MaxTokens:512 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc000b0046d StopSequences:map[*:[[eod] [EOF] [pre] [suf] [mid]]] DataFilePromptLines:5}
I0402 03:04:42.563343    2603 configuration.go:272] Configured settings for atlasOpts: {"Addr":"","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"EnablePromptEnhancementForTransform":false,"EnablePromptEnhancementForChat":false,"EnableAdminCitationBlock":false,"EnableChatStreaming":false,"Complete":{"MaxTokens":64,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":null,"DataFilePromptLines":0},"Generate":{"MaxTokens":512,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":{"*":["[eod]","[EOF]","[pre]","[suf]","[mid]"]},"DataFilePromptLines":5},"DataFileExtensions":[".csv",".tsv",".jsonl"]}
I0402 03:04:42.563362    2603 configuration.go:280] Configured settings for cloudCodeOpts: {"Addr":"cloudcode-pa.googleapis.com:443","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"EnablePromptEnhancementForTransform":false,"EnablePromptEnhancementForChat":false,"EnableAdminCitationBlock":false,"EnableChatStreaming":false}
I0402 03:04:42.563371    2603 configuration.go:284] Configured settings for opts: &{trace:false atlasAddr:cloudaicompanion.googleapis.com:443 cloudCodeAddr:cloudcode-pa.googleapis.com:443 cloudCodeQuotaProject: autoGen:false invokeGen:true codeCacheMaxEntries:1024 completionOpts:{debounce:300000000 throttle:100000000 debouncedAfterFetching:false minScoreThreshold:-6 languageThresholds:map[] enableThresholds:true commentCompletion:false citationLengthThreshold:-1 enableRecitations:true citationLogFilePath: repeatedStringFilterThreshold:60 otherFilesGenerationLimit:20 otherFilesGenerationSizeLimit:-1 otherFilesCompletionLimit:0 multiQueryTailNSForCompletion:[] multiQueryTailNSForGeneration:[]} contextExclusionFile:.aiexclude chatOpts:{contextOrdering:fsu maxFileBytes:75000 maxHistoryBytes:500000 escapeContext:false otherFilesLimit:20 otherFilesSizeLimit:-1 userSelectedFilesSizeLimit:-1} useRest:<nil> useCloudCodeAPI:true enableChatStreaming:true enableNotebooks:false enableRAGL:false enableRAGLCompletion:false enableRAGLChat:false ragLRerankByLangBoost:0 raglCoLocated:20 raglTotalFiles:250 raglFileLimit:524288 raglIncludeDocFiles:false raglIncludeUnitTestFile:false raglMaxFileSearchDepth:1 substringsToIdentifyTestPrompts:[test] substringsToIdentifyDocPrompts:[document comment] raglTopKTestFilesToInclude:0 raglTopKDocFilesToInclude:0 raglTokenizationAlgorithm:whitespace}
I0402 03:04:42.563405    2603 configuration.go:286] Configured settings for canCancelRequests: true
I0402 03:04:42.563414    2603 configuration.go:288] Configured settings for contextPromptOpts: &{Endpoint:}
I0402 03:04:42.565439    2603 cloudcode.go:45] Using Cloud Code API
I0402 03:04:42.567977    2603 client.go:432] CompleteCode request: {"enablePromptEnhancement":true,"ideContext":{"currentFile":{"segments":[{"content":"Code Assist healthcheck id: d7bb3a2f-6589-42b7-a292-f80e26cb479f\nPi = "},{"isSelected":true},{}]}},"metadata":{"ideName":"Code OSS for Cloud Shell","ideType":"CLOUD_SHELL","ideVersion":"1.94.2-cde","platform":"LINUX_AMD64","pluginType":"CLOUD_CODE","pluginVersion":"2.29.0"},"project":"cloudshell-gca","requestId":"cloudcode-737377283-3b6c93e5-eea3-4ef2-a152-b187409ac429"}
W0402 03:04:42.587301    2603 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:04:42.587613    2603 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:04:42.588253    2603 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
I0402 03:04:42.860843    2603 experiments.go:128] Applied experiment flag "DuetAiCloudCodeAPI__enable_cloudcode_api" to useCloudCodeAPI with value true
I0402 03:04:42.860872    2603 experiments.go:164] Applied experiment flag "DuetAiLocalRag__enable_local_rag" to enableRAGL with value true
I0402 03:04:42.860889    2603 experiments.go:212] Applied experiment flag "DuetAiLocalRag__include_unit_test_files" to includeUnitTestFile with value false
I0402 03:04:42.860914    2603 experiments.go:140] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounced_after_fetching" to completionOpts.debouncedAfterFetching with value false
I0402 03:04:42.860931    2603 experiments.go:153] Applied experiment flag "Chat__display_prompt_recitations" to cloudCodeOpts.EnablePromptEnhancementForChat with value true
I0402 03:04:42.860943    2603 experiments.go:124] Applied experiment flag "Chat__enable_chat_streaming" to chat.enableChatStreaming with value true
I0402 03:04:42.860956    2603 experiments.go:168] Applied experiment flag "DuetAiLocalRag__enable_local_rag_chat" to enableRAGLChat with value true
I0402 03:04:42.860967    2603 experiments.go:172] Applied experiment flag "DuetAiLocalRag__enable_local_rag_completion" to enableRAGLCompletion with value true
I0402 03:04:42.860984    2603 experiments.go:208] Applied experiment flag "DuetAiLocalRag__include_doc_files" to includeDocFiles with value false
I0402 03:04:42.861007    2603 experiments.go:157] Applied experiment flag "GcaCitationBlock__enable_citation_block" to cloudCodeOpts.EnableAdminCitationBlock with value false
I0402 03:04:42.861023    2603 experiments.go:149] Applied experiment flag "DuetAICodeTransform__display_prompt_recitations" to cloudCodeOpts.EnablePromptEnhancementForTransform with value true
I0402 03:04:42.861055    2603 experiments.go:240] Applied experiment flag "DuetAiLocalRag__local_rag_tokenization_algorithm" to localRagTokenizationAlgorithm with value 
I0402 03:04:42.861078    2603 experiments.go:116] Applied experiment flag "Chat__chat_context_window_size" to chat.contextWindowSize with value -1
I0402 03:04:42.861095    2603 experiments.go:216] Applied experiment flag "DuetAiLocalRag__max_file_search_depth" to maxFileSearchDepth with value 2
I0402 03:04:42.861111    2603 experiments.go:192] Applied experiment flag "DuetAiLocalRag__otherfiles_completion_limit" to otherFilesCompletionLimit with value 15
I0402 03:04:42.861123    2603 experiments.go:176] Applied experiment flag "DuetAiLocalRag__otherfiles_generation_limit" to otherFilesGenerationLimit with value 40
I0402 03:04:42.861141    2603 experiments.go:232] Applied experiment flag "DuetAiLocalRag__top_k_test_files_to_include" to topKTestFilesToInclude with value 2
I0402 03:04:42.861161    2603 experiments.go:228] Applied experiment flag "DuetAiLocalRag__top_k_doc_files_to_include" to topKDocFilesToInclude with value 2
I0402 03:04:42.861174    2603 experiments.go:120] Applied experiment flag "Chat__fca_chat_context_window_size" to chat.fcaContextWindowSize with value 450000
I0402 03:04:42.861185    2603 experiments.go:112] Applied experiment flag "DuetAiGeneration__codeGeneration_context_window_size" to otherFilesGenerationSizeLimit with value 64000
I0402 03:04:42.861198    2603 experiments.go:196] Applied experiment flag "DuetAiLocalRag__otherfiles_chat_limit" to otherFilesChatLimit with value 100
I0402 03:04:42.861212    2603 experiments.go:136] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounceMs" to completionOpts.debounce with value 300
I0402 03:04:42.861225    2603 experiments.go:180] Applied experiment flag "DuetAiLocalRag__cache_co_located" to coLocated with value 20
I0402 03:04:42.861238    2603 experiments.go:184] Applied experiment flag "DuetAiLocalRag__cache_file_limit" to fileLimit with value 4.1943e+06
I0402 03:04:42.861250    2603 experiments.go:188] Applied experiment flag "DuetAiLocalRag__cache_total_files" to totalFiles with value 250
I0402 03:04:42.861269    2603 experiments.go:236] Applied experiment flag "DuetAiLocalRag__local_rag_reranking_by_language" to localRAGRerankingByLanguageParam with value 0
I0402 03:04:42.861280    2603 experiments.go:132] Applied experiment flag "DuetAiMendelOverrides__codeCompletion_defaultThreshold" to completionOpts.minScoreTheshold with value -100
I0402 03:04:42.861298    2603 experiments.go:200] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_completion" to multiQueryTailNS with value []
I0402 03:04:42.861316    2603 experiments.go:204] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_generation" to multiQueryTailNS with value []
I0402 03:04:42.861333    2603 experiments.go:220] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_doc_prompts" to substringsToIdentifyDocPrompts with value [document comment]
I0402 03:04:42.861356    2603 experiments.go:224] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_test_prompts" to substringsToIdentifyTestPrompts with value [test]
I0402 03:04:42.861391    2603 configuration.go:479] Repopulating context cache from document cache
W0402 03:04:42.861476    2603 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:04:42.862417    2603 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:04:42.862733    2603 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:04:42.863386    2603 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
I0402 03:08:27.199488    2603 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:08:27.199537    2603 document.go:421] NoneEditType, returning ReasonRecentlyOpened
I0402 03:08:27.199592    2603 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:08:27.199607    2603 conversation.go:896] Unable to retrieve excluded files for request #12: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:08:27.199645    2603 rag_cache.go:973] Retrieving and scoring colocated and open files
I0402 03:08:27.199655    2603 rag_cache.go:1008] rerankByLangBoost=0
I0402 03:11:52.497084    2603 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:11:52.497143    2603 document.go:421] NoneEditType, returning ReasonRecentlyOpened
I0402 03:11:52.497189    2603 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:11:52.497206    2603 conversation.go:896] Unable to retrieve excluded files for request #16: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:11:52.497296    2603 rag_cache.go:973] Retrieving and scoring colocated and open files
I0402 03:11:52.497307    2603 rag_cache.go:1008] rerankByLangBoost=0
I0402 03:11:55.112407    2603 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:11:55.112452    2603 document.go:421] NoneEditType, returning ReasonRecentlyOpened
I0402 03:11:55.112494    2603 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:11:55.112509    2603 conversation.go:896] Unable to retrieve excluded files for request #19: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:11:55.112538    2603 rag_cache.go:973] Retrieving and scoring colocated and open files
I0402 03:11:55.112546    2603 rag_cache.go:1008] rerankByLangBoost=0
I0402 03:22:28.221457    2603 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:22:28.221503    2603 document.go:421] NoneEditType, returning ReasonRecentlyOpened
I0402 03:22:28.221547    2603 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:22:28.221563    2603 conversation.go:896] Unable to retrieve excluded files for request #21: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:22:28.221638    2603 rag_cache.go:973] Retrieving and scoring colocated and open files
I0402 03:22:28.221648    2603 rag_cache.go:1008] rerankByLangBoost=0
I0402 03:22:28.855388    2603 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:22:28.855438    2603 document.go:421] NoneEditType, returning ReasonRecentlyOpened
I0402 03:22:28.855489    2603 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:22:28.855506    2603 conversation.go:896] Unable to retrieve excluded files for request #43: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:22:28.855545    2603 rag_cache.go:973] Retrieving and scoring colocated and open files
I0402 03:22:28.855557    2603 rag_cache.go:1008] rerankByLangBoost=0
I0402 03:22:30.844106    2603 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:22:30.844154    2603 document.go:421] NoneEditType, returning ReasonRecentlyOpened
I0402 03:22:30.844201    2603 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:22:30.844214    2603 conversation.go:896] Unable to retrieve excluded files for request #46: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:22:30.844250    2603 rag_cache.go:973] Retrieving and scoring colocated and open files
I0402 03:22:30.844259    2603 rag_cache.go:1008] rerankByLangBoost=0
I0402 03:23:27.440689    2603 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:23:27.440736    2603 document.go:421] NoneEditType, returning ReasonRecentlyOpened
I0402 03:23:27.440782    2603 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:23:27.440799    2603 conversation.go:896] Unable to retrieve excluded files for request #52: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:23:27.440907    2603 rag_cache.go:973] Retrieving and scoring colocated and open files
I0402 03:23:27.440919    2603 rag_cache.go:1008] rerankByLangBoost=0
W0402 03:23:30.041590    2603 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
Completion Provider - completion # 0 - New completion requested from language client at position {"line":73,"character":61}, triggerKind=1
I0402 03:23:30.074598    2603 document.go:425] OtherEditType (DELETE), returning ReasonRecentlyEdited
I0402 03:23:30.131571    2603 handler.go:159] cancel was requested for: 55, needs to be canceled: true
W0402 03:23:30.131977    2603 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
Completion Provider - completion # 1 - New completion requested from language client at position {"line":73,"character":62}, triggerKind=1
I0402 03:23:30.167156    2603 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:23:30.225498    2603 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:23:30.225545    2603 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:23:30.225587    2603 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:23:30.225602    2603 conversation.go:896] Unable to retrieve excluded files for request #58: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:23:30.225641    2603 rag_cache.go:973] Retrieving and scoring colocated and open files
I0402 03:23:30.225648    2603 rag_cache.go:1008] rerankByLangBoost=0
I0402 03:23:30.468225    2603 completion.go:236] Inline suggestion requested (request #57): {TextDocumentPositionParams:{TextDocument:{URI:file:///home/apoorvtripathi537/main.py} Position:{Line:73 Character:62}} TriggerMode:0 IDESessionIndex:20250402_1 CompletionIndex:1}
I0402 03:23:30.469325    2603 rag_cache.go:973] Retrieving and scoring colocated and open files
I0402 03:23:30.469354    2603 rag_cache.go:1008] rerankByLangBoost=0
I0402 03:23:30.469706    2603 client.go:432] CompleteCode request: {"enablePromptEnhancement":true,"ideContext":{"currentFile":{"codeLanguage":"python","filePath":"/home/apoorvtripathi537/main.py","includedReason":"CURRENTLY_OPEN","lastEdit":["DELETE","ADD"],"segments":[{"content":"from datetime import datetime\r\n\r\nfrom flask import Flask, render_template, request, redirect, url_for, send_file, send_from_directory\r\nfrom werkzeug.utils import secure_filename\r\n\r\nimport os\r\nimport vertexai\r\n\r\nfrom google.protobuf import wrappers_pb2\r\nfrom vertexai.generative_models import GenerativeModel, Part\r\n\r\nproject_id = \"project-2-convoai\"\r\nvertexai.init(project=project_id, location=\"us-central1\")\r\nmodel = GenerativeModel(\"gemini-1.5-flash-001\")\r\nprompt = \"\"\"\r\nProvide the exact transcript of the audio along with the sentiment analysis:\r\nFormat should be like this: \r\nText: -- the transcript of the audio--\r\nSentiment analysis: --Sentiment of the text either positive, negative or neutral--\r\n\"\"\"\r\n\r\napp = Flask(__name__)\r\n\r\n\r\n# Configure upload folder\r\nUPLOAD_FOLDER = 'uploads'\r\nALLOWED_EXTENSIONS = {'wav'}\r\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\r\n\r\nos.makedirs(UPLOAD_FOLDER, exist_ok=True)\r\n\r\ndef allowed_file(filename):\r\n    return '.' in filename and \\\r\n           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS\r\n\r\n\r\ndef get_files():\r\n    files = []\r\n    for filename in os.listdir(UPLOAD_FOLDER):\r\n        if allowed_file(filename):\r\n            files.append(filename)\r\n            print(filename)\r\n    files.sort(reverse=True)\r\n    return files\r\n\r\n\r\n@app.route('/')\r\ndef index():\r\n    files = get_files()\r\n    return render_template('index.html', files=files)\r\n\r\n\r\n@app.route('/upload', methods=['POST'])\r\ndef upload_audio():\r\n    if 'audio_data' not in request.files:\r\n        flash('No audio data')\r\n        return redirect(request.url)\r\n    file = request.files['audio_data']\r\n    if file.filename == '':\r\n        flash('No selected file')\r\n        return redirect(request.url)\r\n    if file:\r\n        filename = datetime.now().strftime(\"%Y%m%d-%I%M%S%p\") + '.wav'\r\n        file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)\r\n        file.save(file_path)\r\n       \r\n        filename = file_path\r\n        f = open(file_path,'rb')\r\n        data = f.read()\r\n        f.close()\r\n\r\n        print(file_path)\r\n\r\n        audio_file = Part.from_data(data, mime_type=\"audio/wav"},{"isSelected":true},{"content":"\")\r\n        contents = [audio_file,prompt]\r\n        response = model.generate_content(contents)\r\n\r\n        text = response.text\r\n       \r\n\r\n        print(text)\r\n\r\n        with open(filename + '.txt', 'w') as f:\r\n          f.write(text)\r\n          f.close()\r\n\r\n\r\n    return redirect('/') #success\r\n\r\n\r\n@app.route('/upload/\u003cfilename\u003e')\r\ndef get_file(filename):\r\n    return send_file(filename)\r\n\r\n@app.route('/script.js',methods=['GET'])\r\ndef scripts_js():\r\n    return send_file('./script.js')\r\n\r\n\r\n@app.route('/uploads/\u003cfilename\u003e')\r\ndef uploaded_file(filename):\r\n    return send_from_directory(app.config['UPLOAD_FOLDER'], filename)\r\n\r\n\r\nif __name__ == '__main__':\r\n    app.run(debug=True)\r\n\r\n"}]}},"metadata":{"ideName":"Code OSS for Cloud Shell","ideType":"CLOUD_SHELL","ideVersion":"1.94.2-cde","platform":"LINUX_AMD64","pluginType":"CLOUD_CODE","pluginVersion":"2.29.0"},"project":"cloudshell-gca","requestId":"cloudcode-737377283-52f94d9b-5f6b-4e61-b3bc-844126311c06"}
I0402 03:23:30.734014    2603 completion.go:605] Code complete response for request #57 after post-processing: &{Suggestions:[] TraceID:d547527172f8f3c RequestID:cloudcode-737377283-52f94d9b-5f6b-4e61-b3bc-844126311c06 ServerTiming:gfet5t7;dur=227, gfet4t7; dur=252 NetPlusServerTiming:264.240145ms FromCache:false Typeover:false TriggerMode:0 ProcessingDetails:{RagStatus:RAG_NOT_FOUND AtlasExperience:4e3ec00c79913174 PromptID: CompletionMethod:COMPLETION ExperimentDebugStringFingerprint: ModelURI: ChatClientIDHash:}}
Received completion response from language server with 0 valid responses and 0 responses that have been filtered out
Completion Provider - completion # 1 - Completion result obtained from language client
I0402 03:23:31.791941    2603 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:23:31.791982    2603 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:23:31.792015    2603 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:23:31.792025    2603 conversation.go:896] Unable to retrieve excluded files for request #62: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:23:31.792049    2603 rag_cache.go:973] Retrieving and scoring colocated and open files
I0402 03:23:31.792058    2603 rag_cache.go:1008] rerankByLangBoost=0
I0402 03:23:42.498338    2603 life_cycle.go:300] codeReportEvery: recomputing codereport metric
I0402 03:24:42.498037    2603 life_cycle.go:264] codeReportBasicEvery: recomputing codereportbasic metric
