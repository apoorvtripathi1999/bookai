I0402 03:41:52.767097    8740 serve.go:43] cloudcode_cli (Mar 16 2025 10:36:32 -0700, cl:737377283 baseline:736258458)
I0402 03:41:52.767141    8740 serve.go:44] Command line: ["/home/apoorvtripathi537/.cache/cloud-code/cloudcode_cli/cloudcode_cli/a383010/cloudcode_cli" "duet" "-logtostderr"]
I0402 03:41:52.768774    8740 life_cycle.go:169] Initializing. Architecture: "amd64", Operating system: "linux"
I0402 03:41:52.895376    8740 configuration.go:184] product updateChannel will be used
I0402 03:41:52.895428    8740 configuration.go:664] language thresholds: map[]
I0402 03:41:52.895443    8740 configuration.go:611] dataFileExtensions array: [.csv .tsv .jsonl]
I0402 03:41:52.895460    8740 configuration.go:875] atlas codeCompletion llm options: {MaxTokens:64 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc0012df04d StopSequences:map[] DataFilePromptLines:0}
I0402 03:41:52.895486    8740 configuration.go:875] atlas codeGeneration llm options: {MaxTokens:512 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc0012df06d StopSequences:map[*:[[eod] [EOF] [pre] [suf] [mid]]] DataFilePromptLines:5}
I0402 03:41:52.895612    8740 configuration.go:272] Configured settings for atlasOpts: {"Addr":"","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"EnablePromptEnhancementForTransform":false,"EnablePromptEnhancementForChat":false,"EnableAdminCitationBlock":false,"EnableChatStreaming":false,"Complete":{"MaxTokens":64,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":null,"DataFilePromptLines":0},"Generate":{"MaxTokens":512,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":{"*":["[eod]","[EOF]","[pre]","[suf]","[mid]"]},"DataFilePromptLines":5},"DataFileExtensions":[".csv",".tsv",".jsonl"]}
I0402 03:41:52.895655    8740 configuration.go:280] Configured settings for cloudCodeOpts: {"Addr":"cloudcode-pa.googleapis.com:443","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"EnablePromptEnhancementForTransform":false,"EnablePromptEnhancementForChat":false,"EnableAdminCitationBlock":false,"EnableChatStreaming":false}
I0402 03:41:52.895666    8740 configuration.go:284] Configured settings for opts: &{trace:false atlasAddr:cloudaicompanion.googleapis.com:443 cloudCodeAddr:cloudcode-pa.googleapis.com:443 cloudCodeQuotaProject: autoGen:false invokeGen:true codeCacheMaxEntries:1024 completionOpts:{debounce:300000000 throttle:100000000 debouncedAfterFetching:false minScoreThreshold:-6 languageThresholds:map[] enableThresholds:true commentCompletion:false citationLengthThreshold:-1 enableRecitations:true citationLogFilePath: repeatedStringFilterThreshold:60 otherFilesGenerationLimit:20 otherFilesGenerationSizeLimit:-1 otherFilesCompletionLimit:0 multiQueryTailNSForCompletion:[] multiQueryTailNSForGeneration:[]} contextExclusionFile:.aiexclude chatOpts:{contextOrdering:fsu maxFileBytes:75000 maxHistoryBytes:500000 escapeContext:false otherFilesLimit:20 otherFilesSizeLimit:-1 userSelectedFilesSizeLimit:-1} useRest:<nil> useCloudCodeAPI:true enableChatStreaming:false enableNotebooks:false enableRAGL:false enableRAGLCompletion:false enableRAGLChat:false ragLRerankByLangBoost:0 raglCoLocated:20 raglTotalFiles:250 raglFileLimit:524288 raglIncludeDocFiles:false raglIncludeUnitTestFile:false raglMaxFileSearchDepth:1 substringsToIdentifyTestPrompts:[test] substringsToIdentifyDocPrompts:[document comment] raglTopKTestFilesToInclude:0 raglTopKDocFilesToInclude:0 raglTokenizationAlgorithm:whitespace}
I0402 03:41:52.895703    8740 configuration.go:286] Configured settings for canCancelRequests: true
I0402 03:41:52.895714    8740 configuration.go:288] Configured settings for contextPromptOpts: &{Endpoint:}
I0402 03:41:52.943522    8740 experiments.go:172] Applied experiment flag "DuetAiLocalRag__enable_local_rag_completion" to enableRAGLCompletion with value true
I0402 03:41:52.943557    8740 experiments.go:212] Applied experiment flag "DuetAiLocalRag__include_unit_test_files" to includeUnitTestFile with value false
I0402 03:41:52.943586    8740 experiments.go:149] Applied experiment flag "DuetAICodeTransform__display_prompt_recitations" to cloudCodeOpts.EnablePromptEnhancementForTransform with value true
I0402 03:41:52.943603    8740 experiments.go:164] Applied experiment flag "DuetAiLocalRag__enable_local_rag" to enableRAGL with value true
I0402 03:41:52.943613    8740 experiments.go:168] Applied experiment flag "DuetAiLocalRag__enable_local_rag_chat" to enableRAGLChat with value true
I0402 03:41:52.943634    8740 experiments.go:157] Applied experiment flag "GcaCitationBlock__enable_citation_block" to cloudCodeOpts.EnableAdminCitationBlock with value false
I0402 03:41:52.943650    8740 experiments.go:128] Applied experiment flag "DuetAiCloudCodeAPI__enable_cloudcode_api" to useCloudCodeAPI with value true
I0402 03:41:52.943668    8740 experiments.go:208] Applied experiment flag "DuetAiLocalRag__include_doc_files" to includeDocFiles with value false
I0402 03:41:52.943681    8740 experiments.go:140] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounced_after_fetching" to completionOpts.debouncedAfterFetching with value false
I0402 03:41:52.943706    8740 experiments.go:153] Applied experiment flag "Chat__display_prompt_recitations" to cloudCodeOpts.EnablePromptEnhancementForChat with value true
I0402 03:41:52.943725    8740 experiments.go:124] Applied experiment flag "Chat__enable_chat_streaming" to chat.enableChatStreaming with value true
I0402 03:41:52.943750    8740 experiments.go:240] Applied experiment flag "DuetAiLocalRag__local_rag_tokenization_algorithm" to localRagTokenizationAlgorithm with value 
I0402 03:41:52.943773    8740 experiments.go:232] Applied experiment flag "DuetAiLocalRag__top_k_test_files_to_include" to topKTestFilesToInclude with value 2
I0402 03:41:52.943791    8740 experiments.go:196] Applied experiment flag "DuetAiLocalRag__otherfiles_chat_limit" to otherFilesChatLimit with value 100
I0402 03:41:52.943820    8740 experiments.go:192] Applied experiment flag "DuetAiLocalRag__otherfiles_completion_limit" to otherFilesCompletionLimit with value 15
I0402 03:41:52.943834    8740 experiments.go:136] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounceMs" to completionOpts.debounce with value 300
I0402 03:41:52.943857    8740 experiments.go:216] Applied experiment flag "DuetAiLocalRag__max_file_search_depth" to maxFileSearchDepth with value 2
I0402 03:41:52.943869    8740 experiments.go:176] Applied experiment flag "DuetAiLocalRag__otherfiles_generation_limit" to otherFilesGenerationLimit with value 40
I0402 03:41:52.943888    8740 experiments.go:228] Applied experiment flag "DuetAiLocalRag__top_k_doc_files_to_include" to topKDocFilesToInclude with value 2
I0402 03:41:52.943898    8740 experiments.go:116] Applied experiment flag "Chat__chat_context_window_size" to chat.contextWindowSize with value -1
I0402 03:41:52.943912    8740 experiments.go:120] Applied experiment flag "Chat__fca_chat_context_window_size" to chat.fcaContextWindowSize with value 450000
I0402 03:41:52.943923    8740 experiments.go:112] Applied experiment flag "DuetAiGeneration__codeGeneration_context_window_size" to otherFilesGenerationSizeLimit with value 64000
I0402 03:41:52.943946    8740 experiments.go:180] Applied experiment flag "DuetAiLocalRag__cache_co_located" to coLocated with value 20
I0402 03:41:52.943959    8740 experiments.go:184] Applied experiment flag "DuetAiLocalRag__cache_file_limit" to fileLimit with value 4.1943e+06
I0402 03:41:52.943972    8740 experiments.go:188] Applied experiment flag "DuetAiLocalRag__cache_total_files" to totalFiles with value 250
I0402 03:41:52.943991    8740 experiments.go:236] Applied experiment flag "DuetAiLocalRag__local_rag_reranking_by_language" to localRAGRerankingByLanguageParam with value 0
I0402 03:41:52.944000    8740 experiments.go:132] Applied experiment flag "DuetAiMendelOverrides__codeCompletion_defaultThreshold" to completionOpts.minScoreTheshold with value -100
I0402 03:41:52.944024    8740 experiments.go:200] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_completion" to multiQueryTailNS with value []
I0402 03:41:52.944042    8740 experiments.go:204] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_generation" to multiQueryTailNS with value []
I0402 03:41:52.944062    8740 experiments.go:224] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_test_prompts" to substringsToIdentifyTestPrompts with value [test]
I0402 03:41:52.944080    8740 experiments.go:220] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_doc_prompts" to substringsToIdentifyDocPrompts with value [document comment]
I0402 03:41:52.944112    8740 configuration.go:479] Repopulating context cache from document cache
I0402 03:41:52.944240    8740 tier.go:16] Received tier configuration request: {ProjectID:cloudshell-gca UserDefinedCloudaicompanionProject:true}
W0402 03:41:52.944264    8740 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:41:52.945300    8740 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:41:52.945649    8740 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:41:52.946310    8740 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
I0402 03:41:52.951109    8740 configuration.go:184] product updateChannel will be used
I0402 03:41:52.951165    8740 configuration.go:664] language thresholds: map[]
I0402 03:41:52.951184    8740 configuration.go:611] dataFileExtensions array: [.csv .tsv .jsonl]
I0402 03:41:52.951207    8740 configuration.go:875] atlas codeCompletion llm options: {MaxTokens:64 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc00123d8ed StopSequences:map[] DataFilePromptLines:0}
I0402 03:41:52.951249    8740 configuration.go:875] atlas codeGeneration llm options: {MaxTokens:512 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc00123d90d StopSequences:map[*:[[eod] [EOF] [pre] [suf] [mid]]] DataFilePromptLines:5}
I0402 03:41:52.951295    8740 configuration.go:272] Configured settings for atlasOpts: {"Addr":"","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"EnablePromptEnhancementForTransform":false,"EnablePromptEnhancementForChat":false,"EnableAdminCitationBlock":false,"EnableChatStreaming":false,"Complete":{"MaxTokens":64,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":null,"DataFilePromptLines":0},"Generate":{"MaxTokens":512,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":{"*":["[eod]","[EOF]","[pre]","[suf]","[mid]"]},"DataFilePromptLines":5},"DataFileExtensions":[".csv",".tsv",".jsonl"]}
I0402 03:41:52.951324    8740 configuration.go:280] Configured settings for cloudCodeOpts: {"Addr":"cloudcode-pa.googleapis.com:443","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"EnablePromptEnhancementForTransform":false,"EnablePromptEnhancementForChat":false,"EnableAdminCitationBlock":false,"EnableChatStreaming":false}
I0402 03:41:52.951335    8740 configuration.go:284] Configured settings for opts: &{trace:false atlasAddr:cloudaicompanion.googleapis.com:443 cloudCodeAddr:cloudcode-pa.googleapis.com:443 cloudCodeQuotaProject: autoGen:false invokeGen:true codeCacheMaxEntries:1024 completionOpts:{debounce:300000000 throttle:100000000 debouncedAfterFetching:false minScoreThreshold:-6 languageThresholds:map[] enableThresholds:true commentCompletion:false citationLengthThreshold:-1 enableRecitations:true citationLogFilePath: repeatedStringFilterThreshold:60 otherFilesGenerationLimit:20 otherFilesGenerationSizeLimit:-1 otherFilesCompletionLimit:0 multiQueryTailNSForCompletion:[] multiQueryTailNSForGeneration:[]} contextExclusionFile:.aiexclude chatOpts:{contextOrdering:fsu maxFileBytes:75000 maxHistoryBytes:500000 escapeContext:false otherFilesLimit:20 otherFilesSizeLimit:-1 userSelectedFilesSizeLimit:-1} useRest:<nil> useCloudCodeAPI:true enableChatStreaming:true enableNotebooks:false enableRAGL:false enableRAGLCompletion:false enableRAGLChat:false ragLRerankByLangBoost:0 raglCoLocated:20 raglTotalFiles:250 raglFileLimit:524288 raglIncludeDocFiles:false raglIncludeUnitTestFile:false raglMaxFileSearchDepth:1 substringsToIdentifyTestPrompts:[test] substringsToIdentifyDocPrompts:[document comment] raglTopKTestFilesToInclude:0 raglTopKDocFilesToInclude:0 raglTokenizationAlgorithm:whitespace}
I0402 03:41:52.951369    8740 configuration.go:286] Configured settings for canCancelRequests: true
I0402 03:41:52.951379    8740 configuration.go:288] Configured settings for contextPromptOpts: &{Endpoint:}
I0402 03:41:52.953770    8740 cloudcode.go:45] Using Cloud Code API
I0402 03:41:52.959266    8740 client.go:432] CompleteCode request: {"enablePromptEnhancement":true,"ideContext":{"currentFile":{"segments":[{"content":"Code Assist healthcheck id: b60988bf-01c9-4cbc-9813-43b393f45532\nPi = "},{"isSelected":true},{}]}},"metadata":{"ideName":"Code OSS for Cloud Shell","ideType":"CLOUD_SHELL","ideVersion":"1.94.2-cde","platform":"LINUX_AMD64","pluginType":"CLOUD_CODE","pluginVersion":"2.29.0"},"project":"cloudshell-gca","requestId":"cloudcode-737377283-2b02e47b-b743-4067-bcf9-9f845455f11f"}
I0402 03:41:53.133078    8740 handler.go:159] cancel was requested for: 5, needs to be canceled: true
I0402 03:41:53.286750    8740 experiments.go:164] Applied experiment flag "DuetAiLocalRag__enable_local_rag" to enableRAGL with value true
I0402 03:41:53.286769    8740 experiments.go:124] Applied experiment flag "Chat__enable_chat_streaming" to chat.enableChatStreaming with value true
I0402 03:41:53.286781    8740 experiments.go:172] Applied experiment flag "DuetAiLocalRag__enable_local_rag_completion" to enableRAGLCompletion with value true
I0402 03:41:53.286790    8740 experiments.go:168] Applied experiment flag "DuetAiLocalRag__enable_local_rag_chat" to enableRAGLChat with value true
I0402 03:41:53.286825    8740 experiments.go:212] Applied experiment flag "DuetAiLocalRag__include_unit_test_files" to includeUnitTestFile with value false
I0402 03:41:53.286851    8740 experiments.go:140] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounced_after_fetching" to completionOpts.debouncedAfterFetching with value false
I0402 03:41:53.286863    8740 experiments.go:128] Applied experiment flag "DuetAiCloudCodeAPI__enable_cloudcode_api" to useCloudCodeAPI with value true
I0402 03:41:53.286876    8740 experiments.go:153] Applied experiment flag "Chat__display_prompt_recitations" to cloudCodeOpts.EnablePromptEnhancementForChat with value true
I0402 03:41:53.286885    8740 experiments.go:149] Applied experiment flag "DuetAICodeTransform__display_prompt_recitations" to cloudCodeOpts.EnablePromptEnhancementForTransform with value true
I0402 03:41:53.286898    8740 experiments.go:157] Applied experiment flag "GcaCitationBlock__enable_citation_block" to cloudCodeOpts.EnableAdminCitationBlock with value false
I0402 03:41:53.286911    8740 experiments.go:208] Applied experiment flag "DuetAiLocalRag__include_doc_files" to includeDocFiles with value false
I0402 03:41:53.286924    8740 experiments.go:240] Applied experiment flag "DuetAiLocalRag__local_rag_tokenization_algorithm" to localRagTokenizationAlgorithm with value 
I0402 03:41:53.286937    8740 experiments.go:228] Applied experiment flag "DuetAiLocalRag__top_k_doc_files_to_include" to topKDocFilesToInclude with value 2
I0402 03:41:53.286949    8740 experiments.go:216] Applied experiment flag "DuetAiLocalRag__max_file_search_depth" to maxFileSearchDepth with value 2
I0402 03:41:53.286960    8740 experiments.go:120] Applied experiment flag "Chat__fca_chat_context_window_size" to chat.fcaContextWindowSize with value 450000
I0402 03:41:53.286967    8740 experiments.go:112] Applied experiment flag "DuetAiGeneration__codeGeneration_context_window_size" to otherFilesGenerationSizeLimit with value 64000
I0402 03:41:53.286976    8740 experiments.go:136] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounceMs" to completionOpts.debounce with value 300
I0402 03:41:53.286984    8740 experiments.go:116] Applied experiment flag "Chat__chat_context_window_size" to chat.contextWindowSize with value -1
I0402 03:41:53.286993    8740 experiments.go:192] Applied experiment flag "DuetAiLocalRag__otherfiles_completion_limit" to otherFilesCompletionLimit with value 15
I0402 03:41:53.287005    8740 experiments.go:232] Applied experiment flag "DuetAiLocalRag__top_k_test_files_to_include" to topKTestFilesToInclude with value 2
I0402 03:41:53.287022    8740 experiments.go:196] Applied experiment flag "DuetAiLocalRag__otherfiles_chat_limit" to otherFilesChatLimit with value 100
I0402 03:41:53.287029    8740 experiments.go:176] Applied experiment flag "DuetAiLocalRag__otherfiles_generation_limit" to otherFilesGenerationLimit with value 40
I0402 03:41:53.287037    8740 experiments.go:180] Applied experiment flag "DuetAiLocalRag__cache_co_located" to coLocated with value 20
I0402 03:41:53.287045    8740 experiments.go:184] Applied experiment flag "DuetAiLocalRag__cache_file_limit" to fileLimit with value 4.1943e+06
I0402 03:41:53.287052    8740 experiments.go:188] Applied experiment flag "DuetAiLocalRag__cache_total_files" to totalFiles with value 250
I0402 03:41:53.287064    8740 experiments.go:236] Applied experiment flag "DuetAiLocalRag__local_rag_reranking_by_language" to localRAGRerankingByLanguageParam with value 0
I0402 03:41:53.287072    8740 experiments.go:132] Applied experiment flag "DuetAiMendelOverrides__codeCompletion_defaultThreshold" to completionOpts.minScoreTheshold with value -100
I0402 03:41:53.287085    8740 experiments.go:200] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_completion" to multiQueryTailNS with value []
I0402 03:41:53.287096    8740 experiments.go:204] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_generation" to multiQueryTailNS with value []
I0402 03:41:53.287107    8740 experiments.go:220] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_doc_prompts" to substringsToIdentifyDocPrompts with value [document comment]
I0402 03:41:53.287122    8740 experiments.go:224] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_test_prompts" to substringsToIdentifyTestPrompts with value [test]
I0402 03:41:53.287143    8740 configuration.go:479] Repopulating context cache from document cache
I0402 03:41:53.287178    8740 handler.go:146] req #5 skipped: context canceled
W0402 03:41:53.287243    8740 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:41:53.288291    8740 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:41:53.291294    8740 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
W0402 03:41:53.292052    8740 tokenizer.go:274] Unknown tokenization algorithm , defaulting to whitespace
I0402 03:41:53.339514    8740 tier.go:16] Received tier configuration request: {ProjectID:cloudshell-gca UserDefinedCloudaicompanionProject:true}
I0402 03:41:53.347482    8740 configuration.go:184] product updateChannel will be used
I0402 03:41:53.347538    8740 configuration.go:664] language thresholds: map[]
I0402 03:41:53.347557    8740 configuration.go:611] dataFileExtensions array: [.csv .tsv .jsonl]
I0402 03:41:53.347581    8740 configuration.go:875] atlas codeCompletion llm options: {MaxTokens:64 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc000f4c9ed StopSequences:map[] DataFilePromptLines:0}
I0402 03:41:53.347616    8740 configuration.go:875] atlas codeGeneration llm options: {MaxTokens:512 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc000f4ca0d StopSequences:map[*:[[eod] [EOF] [pre] [suf] [mid]]] DataFilePromptLines:5}
I0402 03:41:53.347658    8740 configuration.go:272] Configured settings for atlasOpts: {"Addr":"","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"EnablePromptEnhancementForTransform":false,"EnablePromptEnhancementForChat":false,"EnableAdminCitationBlock":false,"EnableChatStreaming":false,"Complete":{"MaxTokens":64,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":null,"DataFilePromptLines":0},"Generate":{"MaxTokens":512,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":{"*":["[eod]","[EOF]","[pre]","[suf]","[mid]"]},"DataFilePromptLines":5},"DataFileExtensions":[".csv",".tsv",".jsonl"]}
I0402 03:41:53.347674    8740 configuration.go:280] Configured settings for cloudCodeOpts: {"Addr":"cloudcode-pa.googleapis.com:443","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"EnablePromptEnhancementForTransform":false,"EnablePromptEnhancementForChat":false,"EnableAdminCitationBlock":false,"EnableChatStreaming":false}
I0402 03:41:53.347685    8740 configuration.go:284] Configured settings for opts: &{trace:false atlasAddr:cloudaicompanion.googleapis.com:443 cloudCodeAddr:cloudcode-pa.googleapis.com:443 cloudCodeQuotaProject: autoGen:false invokeGen:true codeCacheMaxEntries:1024 completionOpts:{debounce:300000000 throttle:100000000 debouncedAfterFetching:false minScoreThreshold:-6 languageThresholds:map[] enableThresholds:true commentCompletion:false citationLengthThreshold:-1 enableRecitations:true citationLogFilePath: repeatedStringFilterThreshold:60 otherFilesGenerationLimit:20 otherFilesGenerationSizeLimit:-1 otherFilesCompletionLimit:0 multiQueryTailNSForCompletion:[] multiQueryTailNSForGeneration:[]} contextExclusionFile:.aiexclude chatOpts:{contextOrdering:fsu maxFileBytes:75000 maxHistoryBytes:500000 escapeContext:false otherFilesLimit:20 otherFilesSizeLimit:-1 userSelectedFilesSizeLimit:-1} useRest:<nil> useCloudCodeAPI:true enableChatStreaming:true enableNotebooks:false enableRAGL:false enableRAGLCompletion:false enableRAGLChat:false ragLRerankByLangBoost:0 raglCoLocated:20 raglTotalFiles:250 raglFileLimit:524288 raglIncludeDocFiles:false raglIncludeUnitTestFile:false raglMaxFileSearchDepth:1 substringsToIdentifyTestPrompts:[test] substringsToIdentifyDocPrompts:[document comment] raglTopKTestFilesToInclude:0 raglTopKDocFilesToInclude:0 raglTokenizationAlgorithm:whitespace}
I0402 03:41:53.347722    8740 configuration.go:286] Configured settings for canCancelRequests: true
I0402 03:41:53.347730    8740 configuration.go:288] Configured settings for contextPromptOpts: &{Endpoint:}
I0402 03:41:53.349499    8740 client.go:432] CompleteCode request: {"enablePromptEnhancement":true,"ideContext":{"currentFile":{"segments":[{"content":"Code Assist healthcheck id: b4ae6a56-663a-4600-8dae-12383c4022bc\nPi = "},{"isSelected":true},{}]}},"metadata":{"ideName":"Code OSS for Cloud Shell","ideType":"CLOUD_SHELL","ideVersion":"1.94.2-cde","platform":"LINUX_AMD64","pluginType":"CLOUD_CODE","pluginVersion":"2.29.0"},"project":"cloudshell-gca","requestId":"cloudcode-737377283-2c8670a6-f04a-4630-949c-4ecf4d2a114d"}
I0402 03:43:26.364893    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:26.364947    8740 document.go:421] NoneEditType, returning ReasonRecentlyOpened
I0402 03:43:26.364989    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:26.365004    8740 conversation.go:896] Unable to retrieve excluded files for request #11: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:43:36.275247    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:36.275296    8740 document.go:421] NoneEditType, returning ReasonRecentlyOpened
I0402 03:43:36.275340    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:36.275351    8740 conversation.go:896] Unable to retrieve excluded files for request #14: open /home/apoorvtripathi537/.aiexclude: no such file or directory
Completion Provider - completion # 0 - New completion requested from language client at position {"line":92,"character":4}, triggerKind=1
I0402 03:43:36.780902    8740 document.go:425] OtherEditType (UNKNOWN_EDIT), returning ReasonRecentlyEdited
I0402 03:43:36.843783    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:36.843840    8740 document.go:425] OtherEditType (UNKNOWN_EDIT), returning ReasonRecentlyEdited
I0402 03:43:36.843879    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:36.843891    8740 conversation.go:896] Unable to retrieve excluded files for request #18: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:43:37.081533    8740 completion.go:236] Inline suggestion requested (request #17): {TextDocumentPositionParams:{TextDocument:{URI:file:///home/apoorvtripathi537/main.py} Position:{Line:92 Character:4}} TriggerMode:0 IDESessionIndex:20250402_3 CompletionIndex:0}
I0402 03:43:37.082714    8740 client.go:432] CompleteCode request: {"enablePromptEnhancement":true,"ideContext":{"currentFile":{"codeLanguage":"python","filePath":"/home/apoorvtripathi537/main.py","includedReason":"CURRENTLY_OPEN","lastEdit":["UNKNOWN_EDIT"],"segments":[{"content":"from datetime import datetime\r\n\r\nfrom flask import Flask, render_template, request, redirect, url_for, send_file, send_from_directory\r\nfrom werkzeug.utils import secure_filename\r\n\r\nimport os\r\nimport vertexai\r\n\r\nfrom google.protobuf import wrappers_pb2\r\nfrom vertexai.generative_models import GenerativeModel, Part\r\n\r\nproject_id = \"project-2-convoai\"\r\nvertexai.init(project=project_id, location=\"us-central1\")\r\nmodel = GenerativeModel(\"gemini-1.5-flash-001\")\r\nprompt = \"\"\"\r\nProvide the exact transcript of the audio along with the sentiment analysis:\r\nFormat should be like this: \r\nText: -- the transcript of the audio--\r\nSentiment analysis: --Sentiment of the text either positive, negative or neutral--\r\n\"\"\"\r\n\r\napp = Flask(__name__)\r\n\r\n\r\n# Configure upload folder\r\nUPLOAD_FOLDER = 'uploads'\r\nALLOWED_EXTENSIONS = {'wav'}\r\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\r\n\r\nos.makedirs(UPLOAD_FOLDER, exist_ok=True)\r\n\r\ndef allowed_file(filename):\r\n    return '.' in filename and \\\r\n           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS\r\n\r\n\r\ndef get_files():\r\n    files = []\r\n    for filename in os.listdir(UPLOAD_FOLDER):\r\n        if allowed_file(filename):\r\n            files.append(filename)\r\n            print(filename)\r\n    files.sort(reverse=True)\r\n    return files\r\n\r\n\r\n@app.route('/')\r\ndef index():\r\n    files = get_files()\r\n    return render_template('index.html', files=files)\r\n\r\n\r\n@app.route('/upload', methods=['POST'])\r\ndef upload_audio():\r\n    if 'audio_data' not in request.files:\r\n        flash('No audio data')\r\n        return redirect(request.url)\r\n    file = request.files['audio_data']\r\n    if file.filename == '':\r\n        flash('No selected file')\r\n        return redirect(request.url)\r\n    if file:\r\n        filename = datetime.now().strftime(\"%Y%m%d-%I%M%S%p\") + '.wav'\r\n        file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)\r\n        file.save(file_path)\r\n       \r\n        filename = file_path\r\n        f = open(file_path,'rb')\r\n        data = f.read()\r\n        f.close()\r\n\r\n        print(file_path)\r\n\r\n        audio_file = Part.from_data(data, mime_type=\"audio/wav\")\r\n        contents = [audio_file,prompt]\r\n        response = model.generate_content(contents)\r\n\r\n        text = response.text\r\n       \r\n\r\n        print(text)\r\n\r\n        with open(filename + '.txt', 'w') as f:\r\n          f.write(text)\r\n          f.close()\r\n\r\n\r\n    return redirect('/') #success\r\n\r\n\r\n@app.route('/upload/\u003cfilename\u003e')\r\ndef get_file(filename):\r\n    "},{"isSelected":true},{"content":"\r\n    return send_file(filename)\r\n\r\n@app.route('/script.js',methods=['GET'])\r\ndef scripts_js():\r\n    return send_file('./script.js')\r\n\r\n\r\n@app.route('/uploads/\u003cfilename\u003e')\r\ndef uploaded_file(filename):\r\n    return send_from_directory(app.config['UPLOAD_FOLDER'], filename)\r\n\r\n\r\nif __name__ == '__main__':\r\n    app.run(debug=True)\r\n\r\n"}]}},"metadata":{"ideName":"Code OSS for Cloud Shell","ideType":"CLOUD_SHELL","ideVersion":"1.94.2-cde","platform":"LINUX_AMD64","pluginType":"CLOUD_CODE","pluginVersion":"2.29.0"},"project":"cloudshell-gca","requestId":"cloudcode-737377283-e737a725-3355-45b8-8a34-67153cbf33f6"}
I0402 03:43:37.421078    8740 completion.go:605] Code complete response for request #17 after post-processing: &{Suggestions:[{Content:print(filename) Citations:[] PromptCitations:[] Score:-1.9213178 Telemetry:{CommentLines:<nil>}}] TraceID:4a5abfa13e4d8493 RequestID:cloudcode-737377283-e737a725-3355-45b8-8a34-67153cbf33f6 ServerTiming:gfet5t7;dur=296, gfet4t7; dur=324 NetPlusServerTiming:338.274288ms FromCache:false Typeover:false TriggerMode:0 ProcessingDetails:{RagStatus:RAG_NOT_FOUND AtlasExperience:4e3ec00c79913174 PromptID: CompletionMethod:COMPLETION ExperimentDebugStringFingerprint: ModelURI: ChatClientIDHash:}}
Received completion response from language server with 1 valid responses and 0 responses that have been filtered out
Completion Provider - completion # 0 - Completion result obtained from language client
Completion Provider - completion # 1 - New completion requested from language client at position {"line":92,"character":67}, triggerKind=1
I0402 03:43:37.727102    8740 document.go:425] OtherEditType (UNKNOWN_EDIT), returning ReasonRecentlyEdited
I0402 03:43:37.767451    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:37.767493    8740 document.go:425] OtherEditType (UNKNOWN_EDIT), returning ReasonRecentlyEdited
I0402 03:43:37.767529    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:37.767542    8740 conversation.go:896] Unable to retrieve excluded files for request #21: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:43:38.027965    8740 completion.go:236] Inline suggestion requested (request #20): {TextDocumentPositionParams:{TextDocument:{URI:file:///home/apoorvtripathi537/main.py} Position:{Line:92 Character:67}} TriggerMode:0 IDESessionIndex:20250402_3 CompletionIndex:1}
I0402 03:43:38.029017    8740 client.go:432] CompleteCode request: {"enablePromptEnhancement":true,"ideContext":{"currentFile":{"codeLanguage":"python","filePath":"/home/apoorvtripathi537/main.py","includedReason":"CURRENTLY_OPEN","lastEdit":["UNKNOWN_EDIT","UNKNOWN_EDIT"],"segments":[{"content":"from datetime import datetime\r\n\r\nfrom flask import Flask, render_template, request, redirect, url_for, send_file, send_from_directory\r\nfrom werkzeug.utils import secure_filename\r\n\r\nimport os\r\nimport vertexai\r\n\r\nfrom google.protobuf import wrappers_pb2\r\nfrom vertexai.generative_models import GenerativeModel, Part\r\n\r\nproject_id = \"project-2-convoai\"\r\nvertexai.init(project=project_id, location=\"us-central1\")\r\nmodel = GenerativeModel(\"gemini-1.5-flash-001\")\r\nprompt = \"\"\"\r\nProvide the exact transcript of the audio along with the sentiment analysis:\r\nFormat should be like this: \r\nText: -- the transcript of the audio--\r\nSentiment analysis: --Sentiment of the text either positive, negative or neutral--\r\n\"\"\"\r\n\r\napp = Flask(__name__)\r\n\r\n\r\n# Configure upload folder\r\nUPLOAD_FOLDER = 'uploads'\r\nALLOWED_EXTENSIONS = {'wav'}\r\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\r\n\r\nos.makedirs(UPLOAD_FOLDER, exist_ok=True)\r\n\r\ndef allowed_file(filename):\r\n    return '.' in filename and \\\r\n           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS\r\n\r\n\r\ndef get_files():\r\n    files = []\r\n    for filename in os.listdir(UPLOAD_FOLDER):\r\n        if allowed_file(filename):\r\n            files.append(filename)\r\n            print(filename)\r\n    files.sort(reverse=True)\r\n    return files\r\n\r\n\r\n@app.route('/')\r\ndef index():\r\n    files = get_files()\r\n    return render_template('index.html', files=files)\r\n\r\n\r\n@app.route('/upload', methods=['POST'])\r\ndef upload_audio():\r\n    if 'audio_data' not in request.files:\r\n        flash('No audio data')\r\n        return redirect(request.url)\r\n    file = request.files['audio_data']\r\n    if file.filename == '':\r\n        flash('No selected file')\r\n        return redirect(request.url)\r\n    if file:\r\n        filename = datetime.now().strftime(\"%Y%m%d-%I%M%S%p\") + '.wav'\r\n        file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)\r\n        file.save(file_path)\r\n       \r\n        filename = file_path\r\n        f = open(file_path,'rb')\r\n        data = f.read()\r\n        f.close()\r\n\r\n        print(file_path)\r\n\r\n        audio_file = Part.from_data(data, mime_type=\"audio/wav\")\r\n        contents = [audio_file,prompt]\r\n        response = model.generate_content(contents)\r\n\r\n        text = response.text\r\n       \r\n\r\n        print(text)\r\n\r\n        with open(filename + '.txt', 'w') as f:\r\n          f.write(text)\r\n          f.close()\r\n\r\n\r\n    return redirect('/') #success\r\n\r\n\r\n@app.route('/upload/\u003cfilename\u003e')\r\ndef get_file(filename):\r\n    file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)"},{"isSelected":true},{"content":"\r\n    return send_file(filename)\r\n\r\n@app.route('/script.js',methods=['GET'])\r\ndef scripts_js():\r\n    return send_file('./script.js')\r\n\r\n\r\n@app.route('/uploads/\u003cfilename\u003e')\r\ndef uploaded_file(filename):\r\n    return send_from_directory(app.config['UPLOAD_FOLDER'], filename)\r\n\r\n\r\nif __name__ == '__main__':\r\n    app.run(debug=True)\r\n\r\n"}]}},"metadata":{"ideName":"Code OSS for Cloud Shell","ideType":"CLOUD_SHELL","ideVersion":"1.94.2-cde","platform":"LINUX_AMD64","pluginType":"CLOUD_CODE","pluginVersion":"2.29.0"},"project":"cloudshell-gca","requestId":"cloudcode-737377283-57996c6f-14c6-4bd4-b58b-b617b2b6ee27"}
I0402 03:43:38.326009    8740 completion.go:605] Code complete response for request #20 after post-processing: &{Suggestions:[{Content:
    print(file_path) Citations:[] PromptCitations:[] Score:-2.2569697 Telemetry:{CommentLines:<nil>}}] TraceID:8e9c36fc22d27d4f RequestID:cloudcode-737377283-57996c6f-14c6-4bd4-b58b-b617b2b6ee27 ServerTiming:gfet5t7;dur=276, gfet4t7; dur=295 NetPlusServerTiming:296.929196ms FromCache:false Typeover:false TriggerMode:0 ProcessingDetails:{RagStatus:RAG_NOT_FOUND AtlasExperience:4e3ec00c79913174 PromptID: CompletionMethod:COMPLETION ExperimentDebugStringFingerprint: ModelURI: ChatClientIDHash:}}
Received completion response from language server with 1 valid responses and 0 responses that have been filtered out
Completion Provider - completion # 1 - Completion result obtained from language client
I0402 03:43:52.896558    8740 life_cycle.go:300] codeReportEvery: recomputing codereport metric
I0402 03:43:55.004098    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:55.004157    8740 document.go:425] OtherEditType (UNKNOWN_EDIT), returning ReasonRecentlyEdited
I0402 03:43:55.004201    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:55.004217    8740 conversation.go:896] Unable to retrieve excluded files for request #29: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:43:55.241027    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:55.241066    8740 document.go:425] OtherEditType (UNKNOWN_EDIT), returning ReasonRecentlyEdited
I0402 03:43:55.241101    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:55.241114    8740 conversation.go:896] Unable to retrieve excluded files for request #31: open /home/apoorvtripathi537/.aiexclude: no such file or directory
W0402 03:43:56.240645    8740 document.go:267] Error computing chars added only: getting byte offset for end of change range: invalid column number
Completion Provider - completion # 2 - New completion requested from language client at position {"line":93,"character":22}, triggerKind=1
I0402 03:43:56.275318    8740 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:43:56.341179    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:56.341218    8740 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:43:56.341251    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:56.341260    8740 conversation.go:896] Unable to retrieve excluded files for request #36: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:43:56.389876    8740 handler.go:159] cancel was requested for: 35, needs to be canceled: true
Completion Provider - completion # 3 - New completion requested from language client at position {"line":93,"character":23}, triggerKind=1
I0402 03:43:56.433576    8740 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:43:56.489157    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:56.489197    8740 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:43:56.489239    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:56.489252    8740 conversation.go:896] Unable to retrieve excluded files for request #39: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:43:56.626537    8740 handler.go:159] cancel was requested for: 38, needs to be canceled: true
Completion Provider - completion # 4 - New completion requested from language client at position {"line":93,"character":24}, triggerKind=1
I0402 03:43:56.688894    8740 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:43:56.719221    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:56.719271    8740 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:43:56.719310    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:56.719324    8740 conversation.go:896] Unable to retrieve excluded files for request #43: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:43:56.791579    8740 handler.go:159] cancel was requested for: 42, needs to be canceled: true
Completion Provider - completion # 5 - New completion requested from language client at position {"line":93,"character":25}, triggerKind=1
I0402 03:43:56.824850    8740 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:43:56.890400    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:56.890445    8740 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:43:56.890487    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:56.890497    8740 conversation.go:896] Unable to retrieve excluded files for request #47: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:43:57.125751    8740 completion.go:236] Inline suggestion requested (request #46): {TextDocumentPositionParams:{TextDocument:{URI:file:///home/apoorvtripathi537/main.py} Position:{Line:93 Character:25}} TriggerMode:0 IDESessionIndex:20250402_3 CompletionIndex:5}
I0402 03:43:57.127056    8740 client.go:432] CompleteCode request: {"enablePromptEnhancement":true,"ideContext":{"currentFile":{"codeLanguage":"python","filePath":"/home/apoorvtripathi537/main.py","includedReason":"CURRENTLY_OPEN","lastEdit":["UNKNOWN_EDIT","ADD","ADD","ADD","ADD"],"segments":[{"content":"from datetime import datetime\r\n\r\nfrom flask import Flask, render_template, request, redirect, url_for, send_file, send_from_directory\r\nfrom werkzeug.utils import secure_filename\r\n\r\nimport os\r\nimport vertexai\r\n\r\nfrom google.protobuf import wrappers_pb2\r\nfrom vertexai.generative_models import GenerativeModel, Part\r\n\r\nproject_id = \"project-2-convoai\"\r\nvertexai.init(project=project_id, location=\"us-central1\")\r\nmodel = GenerativeModel(\"gemini-1.5-flash-001\")\r\nprompt = \"\"\"\r\nProvide the exact transcript of the audio along with the sentiment analysis:\r\nFormat should be like this: \r\nText: -- the transcript of the audio--\r\nSentiment analysis: --Sentiment of the text either positive, negative or neutral--\r\n\"\"\"\r\n\r\napp = Flask(__name__)\r\n\r\n\r\n# Configure upload folder\r\nUPLOAD_FOLDER = 'uploads'\r\nALLOWED_EXTENSIONS = {'wav'}\r\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\r\n\r\nos.makedirs(UPLOAD_FOLDER, exist_ok=True)\r\n\r\ndef allowed_file(filename):\r\n    return '.' in filename and \\\r\n           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS\r\n\r\n\r\ndef get_files():\r\n    files = []\r\n    for filename in os.listdir(UPLOAD_FOLDER):\r\n        if allowed_file(filename):\r\n            files.append(filename)\r\n            print(filename)\r\n    files.sort(reverse=True)\r\n    return files\r\n\r\n\r\n@app.route('/')\r\ndef index():\r\n    files = get_files()\r\n    return render_template('index.html', files=files)\r\n\r\n\r\n@app.route('/upload', methods=['POST'])\r\ndef upload_audio():\r\n    if 'audio_data' not in request.files:\r\n        flash('No audio data')\r\n        return redirect(request.url)\r\n    file = request.files['audio_data']\r\n    if file.filename == '':\r\n        flash('No selected file')\r\n        return redirect(request.url)\r\n    if file:\r\n        filename = datetime.now().strftime(\"%Y%m%d-%I%M%S%p\") + '.wav'\r\n        file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)\r\n        file.save(file_path)\r\n       \r\n        filename = file_path\r\n        f = open(file_path,'rb')\r\n        data = f.read()\r\n        f.close()\r\n\r\n        print(file_path)\r\n\r\n        audio_file = Part.from_data(data, mime_type=\"audio/wav\")\r\n        contents = [audio_file,prompt]\r\n        response = model.generate_content(contents)\r\n\r\n        text = response.text\r\n       \r\n\r\n        print(text)\r\n\r\n        with open(filename + '.txt', 'w') as f:\r\n          f.write(text)\r\n          f.close()\r\n\r\n\r\n    return redirect('/') #success\r\n\r\n\r\n@app.route('/upload/\u003cfilename\u003e')\r\ndef get_file(filename):\r\n    file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)\r\n    return send_file(file"},{"isSelected":true},{"content":")\r\n\r\n@app.route('/script.js',methods=['GET'])\r\ndef scripts_js():\r\n    return send_file('./script.js')\r\n\r\n\r\n@app.route('/uploads/\u003cfilename\u003e')\r\ndef uploaded_file(filename):\r\n    return send_from_directory(app.config['UPLOAD_FOLDER'], filename)\r\n\r\n\r\nif __name__ == '__main__':\r\n    app.run(debug=True)\r\n\r\n"}]}},"metadata":{"ideName":"Code OSS for Cloud Shell","ideType":"CLOUD_SHELL","ideVersion":"1.94.2-cde","platform":"LINUX_AMD64","pluginType":"CLOUD_CODE","pluginVersion":"2.29.0"},"project":"cloudshell-gca","requestId":"cloudcode-737377283-36184c71-c6e3-4d66-b03a-7ecca4e550fe"}
I0402 03:43:57.253177    8740 handler.go:159] cancel was requested for: 46, needs to be canceled: true
Completion Provider - completion # 6 - New completion requested from language client at position {"line":93,"character":26}, triggerKind=1
I0402 03:43:57.285961    8740 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:43:57.348358    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:57.348401    8740 document.go:425] OtherEditType (ADD), returning ReasonRecentlyEdited
I0402 03:43:57.348436    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:57.348446    8740 conversation.go:896] Unable to retrieve excluded files for request #52: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:43:57.586603    8740 completion.go:236] Inline suggestion requested (request #51): {TextDocumentPositionParams:{TextDocument:{URI:file:///home/apoorvtripathi537/main.py} Position:{Line:93 Character:26}} TriggerMode:0 IDESessionIndex:20250402_3 CompletionIndex:6}
I0402 03:43:57.587949    8740 client.go:432] CompleteCode request: {"enablePromptEnhancement":true,"ideContext":{"currentFile":{"codeLanguage":"python","filePath":"/home/apoorvtripathi537/main.py","includedReason":"CURRENTLY_OPEN","lastEdit":["ADD","ADD","ADD","ADD","ADD"],"segments":[{"content":"from datetime import datetime\r\n\r\nfrom flask import Flask, render_template, request, redirect, url_for, send_file, send_from_directory\r\nfrom werkzeug.utils import secure_filename\r\n\r\nimport os\r\nimport vertexai\r\n\r\nfrom google.protobuf import wrappers_pb2\r\nfrom vertexai.generative_models import GenerativeModel, Part\r\n\r\nproject_id = \"project-2-convoai\"\r\nvertexai.init(project=project_id, location=\"us-central1\")\r\nmodel = GenerativeModel(\"gemini-1.5-flash-001\")\r\nprompt = \"\"\"\r\nProvide the exact transcript of the audio along with the sentiment analysis:\r\nFormat should be like this: \r\nText: -- the transcript of the audio--\r\nSentiment analysis: --Sentiment of the text either positive, negative or neutral--\r\n\"\"\"\r\n\r\napp = Flask(__name__)\r\n\r\n\r\n# Configure upload folder\r\nUPLOAD_FOLDER = 'uploads'\r\nALLOWED_EXTENSIONS = {'wav'}\r\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\r\n\r\nos.makedirs(UPLOAD_FOLDER, exist_ok=True)\r\n\r\ndef allowed_file(filename):\r\n    return '.' in filename and \\\r\n           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS\r\n\r\n\r\ndef get_files():\r\n    files = []\r\n    for filename in os.listdir(UPLOAD_FOLDER):\r\n        if allowed_file(filename):\r\n            files.append(filename)\r\n            print(filename)\r\n    files.sort(reverse=True)\r\n    return files\r\n\r\n\r\n@app.route('/')\r\ndef index():\r\n    files = get_files()\r\n    return render_template('index.html', files=files)\r\n\r\n\r\n@app.route('/upload', methods=['POST'])\r\ndef upload_audio():\r\n    if 'audio_data' not in request.files:\r\n        flash('No audio data')\r\n        return redirect(request.url)\r\n    file = request.files['audio_data']\r\n    if file.filename == '':\r\n        flash('No selected file')\r\n        return redirect(request.url)\r\n    if file:\r\n        filename = datetime.now().strftime(\"%Y%m%d-%I%M%S%p\") + '.wav'\r\n        file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)\r\n        file.save(file_path)\r\n       \r\n        filename = file_path\r\n        f = open(file_path,'rb')\r\n        data = f.read()\r\n        f.close()\r\n\r\n        print(file_path)\r\n\r\n        audio_file = Part.from_data(data, mime_type=\"audio/wav\")\r\n        contents = [audio_file,prompt]\r\n        response = model.generate_content(contents)\r\n\r\n        text = response.text\r\n       \r\n\r\n        print(text)\r\n\r\n        with open(filename + '.txt', 'w') as f:\r\n          f.write(text)\r\n          f.close()\r\n\r\n\r\n    return redirect('/') #success\r\n\r\n\r\n@app.route('/upload/\u003cfilename\u003e')\r\ndef get_file(filename):\r\n    file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)\r\n    return send_file(filep"},{"isSelected":true},{"content":")\r\n\r\n@app.route('/script.js',methods=['GET'])\r\ndef scripts_js():\r\n    return send_file('./script.js')\r\n\r\n\r\n@app.route('/uploads/\u003cfilename\u003e')\r\ndef uploaded_file(filename):\r\n    return send_from_directory(app.config['UPLOAD_FOLDER'], filename)\r\n\r\n\r\nif __name__ == '__main__':\r\n    app.run(debug=True)\r\n\r\n"}]}},"metadata":{"ideName":"Code OSS for Cloud Shell","ideType":"CLOUD_SHELL","ideVersion":"1.94.2-cde","platform":"LINUX_AMD64","pluginType":"CLOUD_CODE","pluginVersion":"2.29.0"},"project":"cloudshell-gca","requestId":"cloudcode-737377283-3fe7f589-bde6-472d-9f6d-95f9c2ab453d"}
I0402 03:43:57.845324    8740 completion.go:605] Code complete response for request #51 after post-processing: &{Suggestions:[] TraceID:5fbd3d90e28e1e6c RequestID:cloudcode-737377283-3fe7f589-bde6-472d-9f6d-95f9c2ab453d ServerTiming:gfet5t7;dur=239, gfet4t7; dur=255 NetPlusServerTiming:257.302279ms FromCache:false Typeover:false TriggerMode:0 ProcessingDetails:{RagStatus:RAG_NOT_FOUND AtlasExperience:4e3ec00c79913174 PromptID: CompletionMethod:COMPLETION ExperimentDebugStringFingerprint: ModelURI: ChatClientIDHash:}}
Received completion response from language server with 0 valid responses and 0 responses that have been filtered out
Completion Provider - completion # 6 - Completion result obtained from language client
Completion Provider - completion # 7 - New completion requested from language client at position {"line":93,"character":30}, triggerKind=1
I0402 03:43:57.981686    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:43:58.034017    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:43:58.034062    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:43:58.034103    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:43:58.034116    8740 conversation.go:896] Unable to retrieve excluded files for request #56: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:43:58.282440    8740 completion.go:236] Inline suggestion requested (request #55): {TextDocumentPositionParams:{TextDocument:{URI:file:///home/apoorvtripathi537/main.py} Position:{Line:93 Character:30}} TriggerMode:0 IDESessionIndex:20250402_3 CompletionIndex:7}
I0402 03:43:58.283672    8740 client.go:432] CompleteCode request: {"enablePromptEnhancement":true,"ideContext":{"currentFile":{"codeLanguage":"python","filePath":"/home/apoorvtripathi537/main.py","includedReason":"CURRENTLY_OPEN","lastEdit":["ADD","ADD","ADD","ADD","INTELLISENSE"],"segments":[{"content":"from datetime import datetime\r\n\r\nfrom flask import Flask, render_template, request, redirect, url_for, send_file, send_from_directory\r\nfrom werkzeug.utils import secure_filename\r\n\r\nimport os\r\nimport vertexai\r\n\r\nfrom google.protobuf import wrappers_pb2\r\nfrom vertexai.generative_models import GenerativeModel, Part\r\n\r\nproject_id = \"project-2-convoai\"\r\nvertexai.init(project=project_id, location=\"us-central1\")\r\nmodel = GenerativeModel(\"gemini-1.5-flash-001\")\r\nprompt = \"\"\"\r\nProvide the exact transcript of the audio along with the sentiment analysis:\r\nFormat should be like this: \r\nText: -- the transcript of the audio--\r\nSentiment analysis: --Sentiment of the text either positive, negative or neutral--\r\n\"\"\"\r\n\r\napp = Flask(__name__)\r\n\r\n\r\n# Configure upload folder\r\nUPLOAD_FOLDER = 'uploads'\r\nALLOWED_EXTENSIONS = {'wav'}\r\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\r\n\r\nos.makedirs(UPLOAD_FOLDER, exist_ok=True)\r\n\r\ndef allowed_file(filename):\r\n    return '.' in filename and \\\r\n           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS\r\n\r\n\r\ndef get_files():\r\n    files = []\r\n    for filename in os.listdir(UPLOAD_FOLDER):\r\n        if allowed_file(filename):\r\n            files.append(filename)\r\n            print(filename)\r\n    files.sort(reverse=True)\r\n    return files\r\n\r\n\r\n@app.route('/')\r\ndef index():\r\n    files = get_files()\r\n    return render_template('index.html', files=files)\r\n\r\n\r\n@app.route('/upload', methods=['POST'])\r\ndef upload_audio():\r\n    if 'audio_data' not in request.files:\r\n        flash('No audio data')\r\n        return redirect(request.url)\r\n    file = request.files['audio_data']\r\n    if file.filename == '':\r\n        flash('No selected file')\r\n        return redirect(request.url)\r\n    if file:\r\n        filename = datetime.now().strftime(\"%Y%m%d-%I%M%S%p\") + '.wav'\r\n        file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)\r\n        file.save(file_path)\r\n       \r\n        filename = file_path\r\n        f = open(file_path,'rb')\r\n        data = f.read()\r\n        f.close()\r\n\r\n        print(file_path)\r\n\r\n        audio_file = Part.from_data(data, mime_type=\"audio/wav\")\r\n        contents = [audio_file,prompt]\r\n        response = model.generate_content(contents)\r\n\r\n        text = response.text\r\n       \r\n\r\n        print(text)\r\n\r\n        with open(filename + '.txt', 'w') as f:\r\n          f.write(text)\r\n          f.close()\r\n\r\n\r\n    return redirect('/') #success\r\n\r\n\r\n@app.route('/upload/\u003cfilename\u003e')\r\ndef get_file(filename):\r\n    file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)\r\n    return send_file(file_path"},{"isSelected":true},{"content":")\r\n\r\n@app.route('/script.js',methods=['GET'])\r\ndef scripts_js():\r\n    return send_file('./script.js')\r\n\r\n\r\n@app.route('/uploads/\u003cfilename\u003e')\r\ndef uploaded_file(filename):\r\n    return send_from_directory(app.config['UPLOAD_FOLDER'], filename)\r\n\r\n\r\nif __name__ == '__main__':\r\n    app.run(debug=True)\r\n\r\n"}]}},"metadata":{"ideName":"Code OSS for Cloud Shell","ideType":"CLOUD_SHELL","ideVersion":"1.94.2-cde","platform":"LINUX_AMD64","pluginType":"CLOUD_CODE","pluginVersion":"2.29.0"},"project":"cloudshell-gca","requestId":"cloudcode-737377283-7e789ec1-48a9-4c9f-8064-a8e27d245fc4"}
I0402 03:43:58.566208    8740 completion.go:605] Code complete response for request #55 after post-processing: &{Suggestions:[{Content:, as_attachment=True Citations:[] PromptCitations:[] Score:-1.4036576 Telemetry:{CommentLines:<nil>}}] TraceID:c04e1f2d61c7cc5e RequestID:cloudcode-737377283-7e789ec1-48a9-4c9f-8064-a8e27d245fc4 ServerTiming:gfet5t7;dur=271, gfet4t7; dur=280 NetPlusServerTiming:282.452151ms FromCache:false Typeover:false TriggerMode:0 ProcessingDetails:{RagStatus:RAG_NOT_FOUND AtlasExperience:4e3ec00c79913174 PromptID: CompletionMethod:COMPLETION ExperimentDebugStringFingerprint: ModelURI: ChatClientIDHash:}}
Received completion response from language server with 1 valid responses and 0 responses that have been filtered out
Completion Provider - completion # 7 - Completion result obtained from language client
I0402 03:44:00.345784    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:44:00.345840    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:44:00.345874    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:44:00.345888    8740 conversation.go:896] Unable to retrieve excluded files for request #60: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:44:01.980053    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:44:01.980096    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:44:01.980139    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:44:01.980154    8740 conversation.go:896] Unable to retrieve excluded files for request #63: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:44:30.952179    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:44:30.952242    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:44:30.952286    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:44:30.952299    8740 conversation.go:896] Unable to retrieve excluded files for request #66: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:44:32.335776    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:44:32.335842    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:44:32.335890    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:44:32.335904    8740 conversation.go:896] Unable to retrieve excluded files for request #79: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:44:33.919565    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:44:33.919606    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:44:33.919649    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:44:33.919662    8740 conversation.go:896] Unable to retrieve excluded files for request #82: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:44:34.347308    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:44:34.347356    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:44:34.347401    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:44:34.347414    8740 conversation.go:896] Unable to retrieve excluded files for request #85: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:44:34.768402    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:44:34.768444    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:44:34.768484    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:44:34.768498    8740 conversation.go:896] Unable to retrieve excluded files for request #88: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:44:38.347435    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:44:38.347471    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:44:38.347505    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:44:38.347516    8740 conversation.go:896] Unable to retrieve excluded files for request #91: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:44:39.832054    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:44:39.832104    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:44:39.832144    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:44:39.832154    8740 conversation.go:896] Unable to retrieve excluded files for request #93: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:44:52.896982    8740 life_cycle.go:300] codeReportEvery: recomputing codereport metric
I0402 03:48:29.638224    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:48:29.638275    8740 document.go:421] NoneEditType, returning ReasonRecentlyOpened
I0402 03:48:29.638327    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:48:29.638343    8740 conversation.go:896] Unable to retrieve excluded files for request #100: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:48:29.638367    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:48:39.145884    8740 conversation.go:859] Starting getChatIDEContext with detected intent: 
I0402 03:48:39.145925    8740 document.go:425] OtherEditType (INTELLISENSE), returning ReasonRecentlyEdited
I0402 03:48:39.145962    8740 ide_context.go:131] Unable to read file at /home/apoorvtripathi537/.aiexclude
/home/apoorvtripathi537
file:///home/apoorvtripathi537
I0402 03:48:39.145971    8740 conversation.go:896] Unable to retrieve excluded files for request #104: open /home/apoorvtripathi537/.aiexclude: no such file or directory
I0402 03:51:52.897154    8740 life_cycle.go:264] codeReportBasicEvery: recomputing codereportbasic metric
